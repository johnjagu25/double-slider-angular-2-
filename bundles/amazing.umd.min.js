!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],e):e((t.ng=t.ng||{},t.ng.amazing={}),t.ng.core,null)}(this,function(t,e,i){"use strict";var s=function(){function t(){this.title="app"}return t.decorators=[{type:e.Component,args:[{selector:"app-root",templateUrl:"./app.component.html",styleUrls:["./app.component.css"]}]}],t}(),n=function(){function t(t){this.cdr=t,this.tooltip=!1,this.tooltipSymbol="",this.increment=0,this.disable=!1,this.minChange=new e.EventEmitter,this.maxChange=new e.EventEmitter,this.sliderMiddle=!0,this.sliderMinIcon="",this.mouseDownHandle=!1,this.total=0,this.test=0}return t.prototype.ngOnInit=function(){},t.prototype.resetPosition=function(){var t=-this.halfSliderWidth;this.sliderChange("min",t,this.minValue),t=this.halfSliderWidth,this.sliderChange("max",t,this.maxValue),this.minPos=0,this.maxPos=this.width,this.last=0,this.progressFn(this.progress.nativeElement,this.minPos)},t.prototype.onmousedown=function(t){this.disable||(t.preventDefault(),this.element=t.target,this.mouseDownHandle=!0,t.stopPropagation())},t.prototype.onResize=function(t){this.width=this.dbSlider.nativeElement.clientWidth,this.maxPos=+this.maxPos/this.lastWidth*this.width,this.minPos=+this.minPos/this.lastWidth*this.width,this.lastWidth=this.width,this.parentHandler(this.minPos,"min"),this.parentHandler(this.maxPos,"max"),this.last=this.minPos,this.checkGreater()&&this.progressFn(this.progress.nativeElement,this.minPos)},t.prototype.sliderChange=function(t,e,i){"min"===t?(this.slideMin.nativeElement.style.webkitTransform="translate("+e+"px,0px)",this.minChange.emit(i),this.minTooltip=i):(this.slideMax.nativeElement.style.webkitTransform="translate("+e+"px,0px)",this.maxChange.emit(i),this.maxTooltip=i)},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){t.sliderWidth=t.slideMax.nativeElement.clientWidth,t.halfSliderWidth=t.sliderWidth/2,t.width=t.dbSlider.nativeElement.clientWidth,t.lastWidth=t.width,t.initalPosition=t.dbSlider.nativeElement.offsetParent.offsetLeft+t.dbSlider.nativeElement.offsetLeft,t.minPos=0,t.maxPos=t.width,t.total=t.maxValue-t.minValue,t.min=0|t.minValue,t.max=0<t.total?t.maxValue:t.width,t.minTooltip=t.min,t.maxTooltip=t.max,t.resetPosition(),t.last=0})},t.prototype.getPosition=function(t){return 0===t.type.indexOf("touch")?t.touches[0].clientX:t.clientX},t.prototype.parentHandler=function(t,e){if(!this.disable){var i=0;if(e)i=Math.floor(t);else i=(n=this.getPosition(t))-(this.dbSlider.nativeElement.offsetParent.offsetLeft+this.dbSlider.nativeElement.offsetLeft);var s=this.evaluateValue(i);if(i<=this.width/2&&this.max>=s||s<=this.min||"min"===e){this.minPos=i,this.min=s,this.element=this.slideMin.nativeElement;var n=i-this.halfSliderWidth;this.sliderChange("min",n,s)}else{this.maxPos=i,this.max=s,this.element=this.slideMax.nativeElement;n=-(this.width-i-this.halfSliderWidth);this.sliderChange("max",n,s)}this.getSliderValue(),this.checkGreater()&&!e&&this.progressFn(this.progress.nativeElement,this.minPos)}},t.prototype.parent=function(t){t.preventDefault(),this.parentHandler(t,!1)},t.prototype.onmouseup=function(t){this.mouseDownHandle=!1},t.prototype.checkGreater=function(){return this.max>=this.min},t.prototype.onMove=function(t){if(this.mouseDownHandle&&!this.disable){t.preventDefault();var e=this.getPosition(t)-(this.dbSlider.nativeElement.offsetParent.offsetLeft+this.dbSlider.nativeElement.offsetLeft);if(e<=this.width+4&&0<=e-2){this.getSliderValue();var i=0;if("min"===this.getSlider){if(this.minPos=e,this.min=i=this.evaluateValue(e),this.checkGreater()){var s=this.minPos-this.halfSliderWidth;this.sliderChange("min",s,i)}}else if(this.maxPos=e,this.max=i=this.evaluateValue(this.maxPos),this.checkGreater()){s=-(this.width-e-this.halfSliderWidth);this.sliderChange("max",s,i)}this.checkGreater()&&this.progressFn(this.progress.nativeElement,this.minPos)}}},t.prototype.mouseup=function(t){this.mouseDownHandle=!1},t.prototype.progressFn=function(t,e){var i=!1!==e?(this.maxPos-this.minPos)/this.width:1;"min"===this.getSlider?(this.last=e,t.style.webkitTransform="translate("+e+"px,0) scale("+i+",1)"):t.style.webkitTransform="translate("+this.last+"px,0) scale("+i+",1)"},t.prototype.evaluateValue=function(t){var e=this.increment?this.total/this.increment:100,i=Math.floor(t/this.width*e);return this.total/e*i+this.minValue},t.prototype.decodeValue=function(t,e){return e-=this.minValue,this.width/(this.total/e)},t.prototype.getSliderValue=function(){this.element.classList.contains("slider-min")?this.getSlider="min":this.element.classList.contains("slider-max")&&(this.getSlider="max")},t.prototype.reset=function(){this.resetPosition()},t.prototype.setMax=function(t){if((t=parseInt(t))<=this.maxValue&&t>=this.min&&!this.disable){this.getSlider="max";var e=this.slideMax.nativeElement,i=-(this.width-this.decodeValue(e,t)-this.halfSliderWidth);this.sliderChange("max",i,t),this.max=t,this.maxPos=this.width+i,this.progressFn(this.progress.nativeElement,this.minPos)}},t.prototype.setMin=function(t){if((t=parseInt(t))>=this.minValue&&t<=this.max&&!this.disable){this.getSlider="min";var e=this.slideMin.nativeElement,i=this.decodeValue(e,t)-this.halfSliderWidth;this.sliderChange("min",i,t),this.minPos=i,this.min=t,this.progressFn(this.progress.nativeElement,this.minPos)}},t.decorators=[{type:e.Component,args:[{selector:"double-slider",templateUrl:"./double-slider.component.html",styleUrls:["./double-slider.component.css"]}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef}]},t.propDecorators={tooltip:[{type:e.Input,args:["tooltip"]}],tooltipSymbol:[{type:e.Input,args:["tooltipSymbol"]}],minValue:[{type:e.Input,args:["min"]}],maxValue:[{type:e.Input,args:["max"]}],increment:[{type:e.Input,args:["increment"]}],disable:[{type:e.Input,args:["disable"]}],minChange:[{type:e.Output,args:["minChange"]}],maxChange:[{type:e.Output,args:["maxChange"]}],dbSlider:[{type:e.ViewChild,args:["dbSlider1"]}],slideMin:[{type:e.ViewChild,args:["slideMin"]}],slideMax:[{type:e.ViewChild,args:["slideMax"]}],progress:[{type:e.ViewChild,args:["sliderProgress"]}],sliderMiddle:[{type:e.Input,args:["sliderMiddle"]}],sliderMinIcon:[{type:e.Input,args:["sliderMinIcon"]}],onMove:[{type:e.HostListener,args:["document:mousemove",["$event"]]},{type:e.HostListener,args:["document:touchmove",["$event"]]}],mouseup:[{type:e.HostListener,args:["document:mouseup",["$event"]]},{type:e.HostListener,args:["document:touchend",["$event"]]}]},t}(),o=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[s,n],imports:[i.CommonModule],exports:[n],providers:[],bootstrap:[s]}]}],t}();t.AppModule=o,t.DoubleSliderComponent=n,Object.defineProperty(t,"__esModule",{value:!0})});